@using MedFlow.ViewModel
@model DashboardViewModel
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

                <div class="container-fluid">
                    <div class="card" style="border-style: none;border-color: var(--bs-card-cap-bg);">
                        <div class="card-body">
                            <div class="d-sm-flex justify-content-between align-items-center mb-4">
                                <div class="modal fade" role="dialog" tabindex="-1" id="modal-2">
                                    <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h4 class="modal-title">Patient Registration</h4><button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
                                            </div>
                                            <div class="modal-body" style="margin-bottom: -54px;">
                                                <section class="position-relative py-4 py-xl-5">
                                                    <div class="container position-relative">
                                                        <!--model registation-->
                                                        
                                                        <form method="post" asp-action="AddPatient" asp-controller="Dashboard">
                                                            <div class="mb-3"><input class="form-control" type="text" id="name-2" name="name" placeholder="Name"></div>
                                                            <div class="mb-3"><input class="form-control" type="text" id="name-1" name="cno" placeholder="Contact No"></div>
                                                            <div class="mb-3"><input class="form-control" type="text" id="name-3" name="bday" placeholder="Birth Day"></div>
                                                            <div class="mb-3"><input class="form-control" type="text" id="name-4" name="age" placeholder="Age"></div>
                                                            <div class="mb-3">
                                                                <div class="form-check"><input class="form-check-input" type="radio" id="formCheck-1"><label class="form-check-label" for="formCheck-1">Male</label></div>
                                                                <div class="form-check"><input class="form-check-input" type="radio" id="formCheck-2"><label class="form-check-label" for="formCheck-2">Female</label></div>
                                                            </div>
                                                            <div class="mb-3"><textarea class="form-control" id="message-2" name="address" rows="3" placeholder="Address"></textarea></div>
                                                            <div><button class="btn btn-primary d-block w-100" type="submit">Submit</button><button class="btn btn-primary d-block w-100" type="reset" style="margin-top: 9px;">Reset</button></div>
                                                        </form>
                                                    </div>
                                                </section>
                                            </div>
                                            <div class="modal-footer"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col" style="width: 473.906px;">
                                    <h3 class="text-dark d-flex justify-content-between mb-0">A.Dashboard</h3>
                                </div>
                                <div class="col-lg-7 col-xl-8 col-xxl-2 offset-xxl-5"><button class="btn btn-primary" type="button" data-bs-target="#modal-1" data-bs-toggle="modal" style="float: right;margin-left: 10px;">Add Appointment</button></div>
                                <div class="col"><button class="btn btn-primary" type="button" data-bs-target="#modal-2" data-bs-toggle="modal" style="float: right;">Add Patient</button></div>
                                <div class="modal fade" role="dialog" tabindex="-1" id="modal-1">
                                    <!--Search P-->
                                    <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h4 class="modal-title">Add Appointment</h4><button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
                                            </div>
                                            <div class="modal-body">
                                                <form method="post" id="formid">
                                                <div class="row" style="padding-top: 3px;">
                                                    <div class="col-lg-4 col-xl-9" style="width: 349.328px;"><input type="text" id="intext" style="width: 345px;"></div>
                                                    <div class="col-xl-3">
                                                        <!--<select style="height: 29px;">
                                                            <optgroup label="This is a group">
                                                                <option value="12" selected="">Name</option>
                                                                <option value="13">ID</option>
                                                                <option value="14">C.No</option>
                                                            </optgroup>
                                                        </select>-->
                                                        </div>
                                                </div>
                                                <div class="row" style="padding-bottom: 14px;padding-top: 6px;">
                                                    <div class="col" style="padding: -21px;height: 30px;width: 167.344px;"><button class="btn btn-primary" type="submit">Search</button></div>
                                                </div>
                                                </form>
                                <script>
                                    let formref = document.getElementById('formid');
                                    formref.addEventListener('submit', async function (e) {
                                        e.preventDefault();
                                        const searchtext = document.getElementById('intext').value;
                                        let url = `/Dashboard/Search?searchText=${encodeURIComponent(searchtext)}`;
                                        const response = await fetch(url);
                                        const parsedHtml = await response.text();
                                        document.getElementById('partialCont').innerHTML = parsedHtml;
                                    })

                                </script>
                                                <div class="row">
                                                    <div class="col">
                                                        <div class="table-responsive">
                                                            <table class="table">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Patient ID</th>
                                                                        <th>Name</th>
                                                                        <th>Contact No</th>
                                                                        <th>Action</th>
                                                                    </tr>
                                                                </thead>
                                                <tbody id="partialCont">
                                                    <!--<tr id="partialCont">
                                                                        <td>Cell 1</td>
                                                                        <td>Cell 2</td>
                                                                        <td>Cell 1</td>
                                                                        <td><button class="btn btn-primary" type="button">ADD</button></td>
                                                                    </tr>-->
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 col-xl-3 mb-4">
                            <div class="card shadow border-start-primary py-2" style="background: rgb(255,255,255);">
                                <div class="card-body" style="padding: 16px;">
                                    <div class="row align-items-center no-gutters">
                                        <div class="col me-2">
                                            <div class="text-uppercase text-primary fw-bold text-xs mb-1"><span style="font-size: 12.2px;">Patient Queue&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></div>
                                            <div class="text-dark fw-bold h5 mb-0"><span style="font-size: 30px;">@Model.PatientqCount</span><small style="margin: 17px;font-size: 12.5px;margin-bottom: 0;margin-right: 0;margin-top: 0;margin-left: 8px;color: rgb(123,125,146);">Next: 221321333</small></div>
                                        </div>
                                        <div class="col-auto"><i class="fas fa-stethoscope fa-2x text-gray-300"></i></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-xl-3 mb-4">
                            <div class="card shadow border-start-success py-2" style="background: rgb(255,255,255);">
                                <div class="card-body">
                                    <div class="row align-items-center no-gutters">
                                        <div class="col me-2">
                                            <div class="text-uppercase text-success fw-bold text-xs mb-1"><span style="font-size: 12.2px;">Payment Queue&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></div>
                                            <div class="text-dark fw-bold h5 mb-0"><span style="font-size: 30px;">@Model.PaymentqCount</span><small style="margin: 17px;font-size: 12.5px;margin-bottom: 0;margin-right: 0;margin-top: 0;margin-left: 15px;color: rgb(123,125,146);">Next: 1522222</small></div>
                                        </div>
                                        <div class="col-auto"><i class="fas fa-dollar-sign fa-2x text-gray-300"></i></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-xl-3 mb-4">
                            <div class="card shadow border-start-info py-2" style="background: rgb(255,255,255);">
                                <div class="card-body">
                                    <div class="row align-items-center no-gutters">
                                        <div class="col me-2">
                                            <div class="text-uppercase text-info fw-bold text-xs mb-1"><span style="font-size: 12.2px;">Patient count (Monthly)</span></div>
                                            <div class="row g-0 align-items-center">
                                                <div class="col-auto">
                                                <div class="text-dark fw-bold h5 mb-0 me-3"><span style="font-size: 30px;">n</span></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-auto"><i class="fas fa-clipboard-list fa-2x text-gray-300"></i></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-xl-3 mb-4">
                            <div class="card shadow border-start-warning py-2" style="background: rgb(255,255,255);">
                                <div class="card-body">
                                    <div class="row align-items-center no-gutters">
                                        <div class="col me-2">
                                            <div class="text-uppercase text-warning fw-bold text-xs mb-1" style="font-size: 12.2px;"><span>Total register patients</span></div>
                                            <div class="text-dark fw-bold h5 mb-0"><span style="font-size: 30px;">@Model.PatientsCount</span></div>
                                        </div>
                                        <div class="col-auto"><i class="fas fa-user-circle fa-2x text-gray-300"></i></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-7 col-xl-8">
                            <div class="card shadow mb-4"></div>
                        </div>
                        <div class="col-lg-5 col-xl-4">
                            <div class="card shadow mb-4"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6 mb-4">
                            <div class="card shadow mb-4">
                                <div class="card-header py-3">
                                    <h6 class="text-primary fw-bold m-0">Projects</h6>
                                </div>
                                <div class="card-body">
                                    <h4 class="small fw-bold">Server migration<span class="float-end">20%</span></h4>
                                    <div class="progress mb-4">
                                        <div class="progress-bar bg-danger" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 20%;"><span class="visually-hidden">20%</span></div>
                                    </div>
                                    <h4 class="small fw-bold">Sales tracking<span class="float-end">40%</span></h4>
                                    <div class="progress mb-4">
                                        <div class="progress-bar bg-warning" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 40%;"><span class="visually-hidden">40%</span></div>
                                    </div>
                                    <h4 class="small fw-bold">Customer Database<span class="float-end">60%</span></h4>
                                    <div class="progress mb-4">
                                        <div class="progress-bar bg-primary" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"><span class="visually-hidden">60%</span></div>
                                    </div>
                                    <h4 class="small fw-bold">Payout Details<span class="float-end">80%</span></h4>
                                    <div class="progress mb-4">
                                        <div class="progress-bar bg-info" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%;"><span class="visually-hidden">80%</span></div>
                                    </div>
                                    <h4 class="small fw-bold">Account setup<span class="float-end">Complete!</span></h4>
                                    <div class="progress mb-4">
                                        <div class="progress-bar bg-success" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"><span class="visually-hidden">100%</span></div>
                                    </div>
                                </div>
                            </div>
                            <div class="card shadow mb-4">
                                <ul class="list-group list-group-flush"></ul>
                            </div><span>Copyright © Brand 2023</span>
                        </div>
                    </div>
                </div>